# Disk B-Spline Test Harness

This repository contains an interactive test harness for visualizing and experimenting with Disk B-Splines, a powerful technique for generating variable-width curves.

![Disk B-Spline Example](https://api.placeholder.com/800/400)

## Overview

Disk B-Splines are a mathematical tool for generating smooth variable-width curves from a sequence of control disks. Each control disk consists of a center point and a radius, and the interpolation between these disks creates paths with continuously varying width. The implementation is particularly useful for:

- Drawing calligraphic strokes
- Creating natural-looking organic shapes
- Rendering smooth variable-width paths
- Designing vector graphics with aesthetic appeal

## Features

- **Interactive Demo**: Five different examples showcasing various applications
- **Visualization Controls**: Toggle visibility of skeleton paths, normal vectors, and control disks
- **Interactive Example**: Click to add control disks and visualize the resulting curve
- **Debug Logging**: Real-time feedback and diagnostic information
- **Pure JavaScript Implementation**: No external dependencies required

## Mathematics Background

This implementation is based on research in computational geometry regarding variable-width curve interpolation. The key insight is to extend traditional B-Splines (which interpolate points) to interpolate disks instead. The implementation follows concepts described in papers like:

- ["Variable-width spline curves"](https://dl.acm.org/doi/10.1145/1178477.1178489) by Yang and Kim
- ["Disk B-spline: A Volume Preserving Parametric Curve"](https://doi.org/10.1016/j.cad.2008.12.008) by Bas and Erleben

## How It Works

1. **Control Disks**: Each disk has a center point and radius
2. **B-Spline Interpolation**: The centerline (skeleton) is computed using traditional B-spline interpolation of center points
3. **Normal Vectors**: Perpendicular vectors to the curve are calculated at sample points
4. **Variable Width**: The curve boundary is generated by offsetting the skeleton by the interpolated radii along the normal vectors

## Getting Started

1. Clone this repository
2. Open `index.html` in any modern web browser
3. Experiment with the different examples
4. Try the interactive example to create your own disk B-spline curves

## Examples Included

1. **Simple Variable Width Curve**: Basic demonstration of the technique
2. **Complex Variable Width Curve**: More control points with varied radii
3. **Calligraphic Stroke**: Mimics the effect of a calligraphic pen
4. **Calligraphic Effect**: Dramatic width variation for artistic effects
5. **Interactive Curve**: Create your own curves by adding control disks

## Implementation Notes

- Implements cubic B-splines (degree 3) by default
- Uses uniform knot vectors for simplicity
- Approximates normals using finite differences
- Creates path outlines by offsetting along normal vectors
- Handles edge cases such as zero-length tangents and endpoint conditions

## AI Generation Notice

This code was generated with the assistance of AI. The implementation follows mathematical principles of disk B-splines and computational geometry but may benefit from further optimization and refinement.

## Future Improvements

- Support for non-uniform knot vectors
- Arc-length parameterization for more consistent sampling
- Better normal vector calculation at high-curvature regions
- More sophisticated curve rendering with G2 continuity
- Implementation of loop avoidance algorithms for complex curves

## License

MIT License

## References

- [Variable-width spline curves](https://dl.acm.org/doi/10.1145/1178477.1178489)
- [Disk B-spline: A Volume Preserving Parametric Curve](https://doi.org/10.1016/j.cad.2008.12.008)
- [Computational Geometry: Algorithms and Applications](https://www.springer.com/gp/book/9783540779735)
