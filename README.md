# Disk B-Spline Test Harness

This repository contains an interactive test harness for visualizing and experimenting with Disk B-Splines, a powerful technique for generating variable-width curves.

![Disk B-Spline Example](https://api.placeholder.com/800/400)

## Overview

Disk B-Splines are a mathematical tool for generating smooth variable-width curves from a sequence of control disks. Each control disk consists of a center point and a radius, and the interpolation between these disks creates paths with continuously varying width. The implementation is particularly useful for:

- Drawing calligraphic strokes
- Creating natural-looking organic shapes
- Rendering smooth variable-width paths
- Designing vector graphics with aesthetic appeal

## Features

- **Interactive Demo**: Five different examples showcasing various applications
- **Visualization Controls**: Toggle visibility of skeleton paths, normal vectors, and control disks
- **Interactive Example**: Click to add control disks and visualize the resulting curve
- **Debug Logging**: Real-time feedback and diagnostic information
- **Pure JavaScript Implementation**: No external dependencies required

## Mathematics Background

This implementation leverages computational geometry to extend traditional B-Splines from point interpolation to disk interpolation for variable-width curves. It builds on research from:

- **[Artistic Brushstroke Representation and Animation with Disk B-Spline Curve](https://dl.acm.org/doi/10.1145/1178477.1178489)** [PDF](https://www.researchgate.net/profile/Xian-Xiao-10/publication/220982699_Artistic_brushstroke_representation_and_animation_with_disk_B-spline_curve/links/5630ce4508ae2df441bb7e98/Artistic-brushstroke-representation-and-animation-with-disk-B-spline-curve.pdf)
  _Authors_: Hock Soon Seah, Zhongke Wu, Feng Tian, Xian Xiao, Boya Xie  
  _Published_: ACE '05, 2005, pp. 88–93  
  _Publisher_: ACM, New York, NY, USA  
  _Keywords_: disk B-spline curve, brushstroke, animation  
  _Summary_: Introduces disk B-spline curves (DBSC) for modeling brushstrokes and animation, supporting 2D regions, centerline attributes, and efficient frame interpolation.

- **[Skeleton-Based Parametric 2-D Region Representation: Disk B-Spline Curves](https://doi.org/10.1109/MCG.2021.3069847)**  
  _Authors_: Zhongke Wu, Xingce Wang, Shaolong Liu, Quan Chen, Hock Soon Seah, Feng Tian  
  _Published_: IEEE Computer Graphics and Applications, 2021, vol. 41, no. 3, pp. 59–70  
  _Publisher_: IEEE  
  _Keywords_: splines, 2D displays, animation, geometry  
  _Summary_: Presents a skeleton-based approach using disk B-spline curves for parametric 2D region representation, enhancing computational modeling of shapes.

## How It Works

1. **Control Disks**: Each disk has a center point and radius
2. **B-Spline Interpolation**: The centerline (skeleton) is computed using traditional B-spline interpolation of center points
3. **Normal Vectors**: Perpendicular vectors to the curve are calculated at sample points
4. **Variable Width**: The curve boundary is generated by offsetting the skeleton by the interpolated radii along the normal vectors

## Getting Started

1. Clone this repository
2. Open `index.html` in any modern web browser
3. Experiment with the different examples
4. Try the interactive example to create your own disk B-spline curves

## Examples Included

1. **Simple Variable Width Curve**: Basic demonstration of the technique
2. **Complex Variable Width Curve**: More control points with varied radii
3. **Calligraphic Stroke**: Mimics the effect of a calligraphic pen
4. **Calligraphic Effect**: Dramatic width variation for artistic effects
5. **Interactive Curve**: Create your own curves by adding control disks

## Implementation Notes

- Implements cubic B-splines (degree 3) by default
- Uses uniform knot vectors for simplicity
- Approximates normals using finite differences
- Creates path outlines by offsetting along normal vectors
- Handles edge cases such as zero-length tangents and endpoint conditions

## AI Generation Notice

This code was generated with the assistance of AI. The implementation follows mathematical principles of disk B-splines and computational geometry but may benefit from further optimization and refinement.

## Future Improvements

- Support for non-uniform knot vectors
- Arc-length parameterization for more consistent sampling
- Better normal vector calculation at high-curvature regions
- More sophisticated curve rendering with G2 continuity
- Implementation of loop avoidance algorithms for complex curves

## License

MIT License

## References
